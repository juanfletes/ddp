<%= form_with(model: usuario, local: true) do |form| %>
<% if usuario.errors.any? %>
<div class="alert alert-danger alert-dismissible fade in">
  <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
  <strong><i class="icon fa fa-ban"></i> <%= pluralize(usuario.errors.count, "error") %> al guardar!</strong>
  <ul>
    <% usuario.errors.full_messages.each do |message| %>
    <li><%= message %></li>
    <% end %>
  </ul>
</div>
<% end %>

<div class="form-group">
  <%= form.label :persona_id %>
  <%= form.collection_select :persona_id, @personas, :id, :nombre_completo,  {:include_blank => true}, class: 'form-control'%>
</div>

<div class="form-group">
  <%= form.label :email %>
  <%= form.text_field :email, id: :usuario_email , class: 'form-control' %>
</div>

<div class="form-group">
  <%= form.label :primer_nombre %>
  <%= form.text_field :primer_nombre, id: :usuario_primer_nombre, class: 'form-control' %>
</div>

<div class="form-group">
  <%= form.label :segundo_nombre %>
  <%= form.text_field :segundo_nombre, id: :usuario_segundo_nombre, class: 'form-control' %>
</div>

<div class="form-group">
  <%= form.label :primer_apellido %>
  <%= form.text_field :primer_apellido, id: :usuario_primer_apellido, class: 'form-control' %>
</div>

<div class="form-group">
  <%= form.label :segundo_apellido %>
  <%= form.text_field :segundo_apellido, id: :usuario_segundo_apellido, class: 'form-control' %>
</div>

<% if @usuario.new_record? %>
<div class="form-group">
  <%= form.label(:password, "Nueva Clave") %>
  <%= form.password_field(:password, { class: 'form-control', placeholder: 'Nueva Clave' }) %>
</div>

<div class="form-group">
  <%= form.label(:password_confirmation, "Confirmar Clave") %>
  <%= form.password_field(:password_confirmation, { class: 'form-control', placeholder: 'Confirmar Clave' }) %>
</div>
<% end %>

<div class="actions">
  <%= form.submit 'Guardar' , class: 'btn btn-primary' %>
</div>
<% end %>
